RELEASE_TYPE: minor

This rearranges the classes around locking to follow a more consistent pattern, and improves the testing of the locking classes.